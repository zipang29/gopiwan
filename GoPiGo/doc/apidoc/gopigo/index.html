<!DOCTYPE html>
<!-- saved from url=(0034)https://console.online.net/fr/api/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API - Documentation - GOPIGO</title>

        <link rel="stylesheet" href="css/global.css">
    
<link rel="shortcut icon" href="img/logo_32.ico">

<link rel="apple-touch-icon" sizes="120x120" href="img/logo_120.png">
<link rel="icon" type="image/png" href="img/logo_32.png" sizes="32x32">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-square70x70logo" content="/bundles/onlineconsole/images/mstile-70x70.png?b62eb261">
<meta name="msapplication-square150x150logo" content="/bundles/onlineconsole/images/mstile-150x150.png?b62eb261">
<meta name="msapplication-wide310x150logo" content="/bundles/onlineconsole/images/mstile-310x150.png?b62eb261">


        <script src="./js/jquery.min.js"></script>
    <!--[if IE]>
    <script type="text/javascript" src="/bundles/onlineconsole/js/online-ie-fixes.js?b62eb261"></script>
  <![endif]-->
    <script type="text/javascript" src="./js/bootstrap.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="./js/bootstrap-tooltip.js"></script>
        <script src="./js/online-global.js"></script>
    

<script type="text/javascript" src="./js/leswag.js"></script>
<link rel="stylesheet" href="css/leswag.css">
<script type="text/javascript">
$(document).ready(function() {
    $('.api_call_example_link').click(function() {
        var api_call_example_id = $(this).attr('data-example-id');
        $('#' + api_call_example_id).slideToggle();
    });
    $(function () { var a = $('[href=' + location.hash + ']'); a && a.tab('show'); });
});

</script>
          </head>

    <body class="online">

    <div class="container front">

<div class="clear visible-phone" id="headend"></div>
    <h1 class="highlight">API GoPiGo</h1> 
  <div class="clear"></div>
  <div class="content">

    <div class="main_content">
    <div class="pull-right no_margin"><img src="img/logo_120.png" /></div>
      <p class="bold">
    Contrôlez votre GoPiGo depuis n'importe où, pourvu que vous parliez HTTP !
        </p>
  
        
  
<h2 class="page-header firsttitle">Documentation</h2>

            <div id="api_introduction" class="api_doc">
                <p>L'API REST décrite dans ce document permet de communiquer et de contrôler le GoPiGo. L'adresse de base est <strong>http://192.168.42.1:8080</strong>.</p>

                <p>Pour utiliser cette API, aucune identification n'est préalable, il suffit d'envoyer une requête à l'adresse adéquate.</p>
            </div>

        </div>
        <div class="span12">

<div class="tabbable">

    <div class="tab-content">
        <div id="api_all" class="tab-pane active">

            <div class="api_doc">

            </div>

            <div id="api_methods" class="api_doc">
                <h2 class="page-header">GoPiGo</h2>

                
<h3>/gopigo</h3>

<div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /gopigo/move/{direction}</h4>
                <div class="pull-right leswag_operation_summary">
                    Mettre le GoPiGo en mouvement
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Fait éxécuter au GoPiGo le mouvement passé en paramètre dans le path.</p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                <div class="leswag_parameters">
                    <table class="table table-striped">
                        <thead>
                            <tr><th class="span2">&nbsp;</th>
                                                <th class="span2">Nom</th>
                            <th class="span2">Type</th>
                            <th>Description</th>
                        </tr></thead>
                        <tbody>
                                                <tr>
                                <td class="leswag_parameter_GET">Path</td>
                                                        <td>direction</td>
                                <td>chaîne</td>
                                <td>Direction à suivre</td>
                            </tr>
                                            </tbody>
                    </table>

                    <h5>Valeurs possibles de Direction : </h5>

                    <table class="table table-striped">
                        <thead>
                            <tr><th class="span2">Value</th>
                                <th class="span2">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="leswag_parameter_GET">FORWARD</td>
                                <td>Avancer tout droit</td>
                            </tr>
                            <tr>
                                <td class="leswag_parameter_GET">BACKWARD</td>
                                <td>Reculer</td>
                            </tr>
                            <tr>
                                <td class="leswag_parameter_GET">RIGHT</td>
                                <td>Tourner à droite. Une roue active.</td>
                            </tr>
                            <tr>
                                <td class="leswag_parameter_GET">LEFT</td>
                                <td>Tourner à gauche. Une roue active.</td>
                            </tr>
                            <tr>
                                <td class="leswag_parameter_GET">ROTR</td>
                                <td>Demi-tour dextrogyre. Deux roues actives.</td>
                            </tr>
                            <tr>
                                <td class="leswag_parameter_GET">ROTL</td>
                                <td>Demi-tour levrogyre. Deux roues actives.</td>
                            </tr>
                            <tr>
                                <td class="leswag_parameter_GET">STOP</td>
                                <td>Stopper le GoPiGo. Préférer la fonction <strong>gopigo/stop</strong></td>
                            </tr>
                        </tbody>
                    </table>

                            </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : </br>
                                <ul>
                                    <li>Si direction valide : "Moving $DIRECTION ..."</li>
                                    <li>Si direction invalide : "Bad Direction !"</li>
                            </ul>
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
    </div>
</div>   <!-- / OPERATION -->
        
        <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /gopigo/stop</h4>
                <div class="pull-right leswag_operation_summary">
                    Stopper le mouvement en cours
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Stoppe le mouvement en cours d'éxécution. Si aucun mouvement n'est en cours, cela est sans effet.</p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Stopped !"
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
        
        <h3>/gopigo/speed</h3>
        <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /gopigo/speed/set/{speed}</h4>
                <div class="pull-right leswag_operation_summary">
                    Fixer la vitesse du GoPiGo
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Règle la vitesse du GoPiGo à la valeur passée en paramètre.</p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                <div class="leswag_parameters">
                    <table class="table table-striped">
                        <thead>
                            <tr><th class="span2">&nbsp;</th>
                                                <th class="span2">Nom</th>
                            <th class="span2">Type</th>
                            <th>Description</th>
                        </tr></thead>
                        <tbody>
                                                <tr>
                                <td class="leswag_parameter_GET">Path</td>
                                                        <td>speed</td>
                                <td>entier 0-255</td>
                                <td>Nouvelle vitesse</td>
                            </tr>
                                            </tbody>
                    </table>


                            </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : </br>
                                <ul>
                                    <li>Si speed valide : "Speed set to $SPEED ..."</li>
                                    <li>Si speed invalide : "Bad Direction..."</li>
                            </ul>
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
            
            <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /gopigo/speed/decrease</h4>
                <div class="pull-right leswag_operation_summary">
                    Diminuer la vitesse
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Diminue la vitesse du GoPiGo de 10.</p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Speed --"
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
            
                        <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /gopigo/speed/increase</h4>
                <div class="pull-right leswag_operation_summary">
                    Augmenter la vitesse
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Augmenter la vitesse du GoPiGo de 10.</p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Speed ++"
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->

            <h2 class="page-header">Settings</h2>
<h3>/settings</h3>
    </div>   <!-- / OPERATION -->
            
                        <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /settings/mode/toggle</h4>
                <div class="pull-right leswag_operation_summary">
                    Changer le mode de communication interne
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">
                            Change le mode de communication interne, qui permet de passer du Java aux appels à la librairie Python.<br><div></div>
                            Deux modes possibles : <br>
                            <ul>
                            <li>SOCKET : Communication TCP sur localhost avec un programme démon</li>
                            <li>PYTHON : Lance un nouvel interpréteur à chaque appel</li></ul>
                            Selon les cas d'utilisation, il peut être préférable d'utiliser l'un ou l'autre des modes, c'est pourquoi il est possible de changer, même en cours d'utilisation.<br>
                            En effet, si les mouvements sont relativement peu fréquents, le mode PYTHON est plus économe en ressources. <br>A l'inverse, si le GoPiGo change souvent de cap, le mode SOCKET est préférable.<br>
                            L'appel à cette fonction permet donc de changer le mode de communication actuel.
                </p>
            </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Toggle mode to $newMode"
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
            
            <h3>/settings/video</h3>
<div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /settings/video/fps/{fps}</h4>
                <div class="pull-right leswag_operation_summary">
                    Réglage fps
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">
                        Change la fréquence de rafraichissement des images (snapshots) générés par le GoPiGo.<br><div></div>
                        Le module caméra équipé permet de filmer jusqu'à 30 fps.<br>
                        Néanmoins, chaque image générée donne beaucoup de travail d'encodage au processeur.<br>
                        Le nombre d'images par secondes (et donc la fluidité) se fait donc au détriment de la latence.<br>
<br>
                        Il s'agira donc de faire un compromis entre la résolution et les fps (frames per second), fréquence de rafraichissement.<br>
                        Pour régler la resoltuion, voir la fonction <strong>/settings/video/resolution/{resolution}</strong><br>
<br>
                        Valeurs possibles : 0 - n - 30<br>
<br>
                        Il peut être nécéssaire de redémarrer le streaming après un appel à cette fonction. <strong>video/start</strong>      <br>    
                </p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                <div class="leswag_parameters">
                    <table class="table table-striped">
                        <thead>
                            <tr><th class="span2">&nbsp;</th>
                                                <th class="span2">Nom</th>
                            <th class="span2">Type</th>
                            <th>Description</th>
                        </tr></thead>
                        <tbody>
                                                <tr>
                                <td class="leswag_parameter_GET">Path</td>
                                                        <td>fps</td>
                                <td>entier 0-25</td>
                                <td>Images par secondes</td>
                            </tr>
                                            </tbody>
                    </table>
                </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "FPS set to $fps" 
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
        
<div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /settings/video/resolution/{resolution}</h4>
                <div class="pull-right leswag_operation_summary">
                    Réglage Résolution
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">
Change la résolution des images (snapshots) générés par le GoPiGo. <br> <div></div>
Le module caméra équipé permet de filmer à une résolution FullHD, c'est à dire 1920 * 1080 pixels. <br>
Ceci dit, le processeur ARM présent est très peu performant pour l'encodage. <br>
<br>
Il s'agira donc de faire un compromis entre la résolution et les fps (frames per second), fréquence de rafraichissement. <br>
Pour régler les fps, voir la fonction <strong>/video/fps/{fps}</strong> <br>
<br>
Il peut être nécéssaire de redémarrer le streaming après un appel à cette fonction. <br>
<br>
                </p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                <div class="leswag_parameters">
                    <table class="table table-striped">
                        <thead>
                            <tr><th class="span2">&nbsp;</th>
                                                <th class="span2">Nom</th>
                            <th class="span2">Type</th>
                            <th>Description</th>
                        </tr></thead>
                        <tbody>
                                                <tr>
                                <td class="leswag_parameter_GET">Path</td>
                                                        <td>resolution</td>
                                <td>chaîne</td>
                                <td>Nouvelle résolution d'image</td>
                            </tr>
                                            </tbody>
                    </table>
                    <p>
                    <h5>Valeurs possibles : </h5><br>
                        <ul>
                    <li>FULLHD | FHD | 1080 | 1080p</li>
                    <li>HD | 720 | 720p</li>
                    <li>480 | 480p</li>
                    <li>360 | 360p</li>
                    <li>240 | 240p</li>
                    </ul>
                            Note : (insensible à la casse) </p>
                </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Resolution set to $newRes" 
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>
            </div> <!-- / operation full -->
        </div>
</div>   <!-- / OPERATION -->
 

<h2 class="page-header">Streaming</h2>

<h3>/video</h3>            
                        <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /video/get</h4>
                <div class="pull-right leswag_operation_summary">
                    Récupère la frame courante
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Récupère la dernière image enregistrée.<br> <div></div>
Attention : Impact important sur la bande passante.</p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            BITMAP image : frame courante
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
             
                        <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /video/start</h4>
                <div class="pull-right leswag_operation_summary">
                    Démarre le streaming
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Démarre le processus d'acquisition vidéo. <br> <div></div>
Une fois ce processus activé, la frame rendue par <strong>/video/get</strong> changera à intervalle régulier. <br>
Cet intervalle est modifiable dans <strong>/settings/video/fps/{fps}</strong> <br>
<br>
Attention : Impact important sur l'utilisation du CPU<br>
Bonne pratique : Stopper le streaming lorsqu'il n'est plus utilisé. <br>
                            </p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Streaming started"
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
                
                
    </div>
</div>   <!-- / OPERATION -->
            
    <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /video/stop</h4>
                <div class="pull-right leswag_operation_summary">
                    Démarre le streaming
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Stoppe le processus d'acquisition vidéo. <br> <div></div>
La dernière image enregistrée reste accessible.<br>
                            </p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            PLAIN_TEXT : "Streaming stopped !"
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
    </div>
</div>   <!-- / OPERATION -->

            <h2 class="page-header">Interface</h2>
<h3>/interface</h3>

    <div class="leswag_resource">    <!-- OPERATION -->
        <div class="leswag_row leswag_operation leswag_operation_GET">
            
            <div class="leswag_row leswag_operation_signature">  <!-- signature -->
                <h4 class=""><span>GET</span> /interface</h4>
                <div class="pull-right leswag_operation_summary">
                    Accès à l'interface embarquée
                </div>
            </div>  <!-- / signature -->

            <div class="leswag_row leswag_operation_full" style="display: none;"> <!-- operation full -->
                        <div class="leswag_block">
                <p class="lead">Accès à l'interface embarquée du GoPiGo.<br> <div></div>
Une interface HTML basique, mais néanmoins utilisable par une grande diversité d'appareils est disponible avec cette API.<br>
Cette interface peut être vue comme un exemple d'utilisation de l'API qui vient d'être présentée. <br>
                            En effet, la grande partie des fonctions présentées sont utilisées dans cette petite interface.<br>
                            </p>
                </div>

                        <div class="leswag_block">
                <h5>Paramètres :</h5>

                    <div class="leswag_parameters">

                    </div>
                </div>

                <div class="leswag_block">
                    <h5>Valeur de retour :</h5>

                        <p class="leswag_return_value">
                            HTML : l'interface, au format HTML
                        </p>

                    <div class="leswag_schema_placeholder"></div>
                </div>

            </div> <!-- / operation full -->
    </div>
</div>   <!-- / OPERATION -->

</div></div>

<div class="hide" id="leswag_model_schemas">
           </div>
    </div>
        </div>
        
      <div class="footer clearfix text-right">
    <p class="info"><br>GoPiGo Project - UBS</p>
        </div>

  </div>
        <script type="text/javascript">
      $('.dropdown-toggle').dropdown();
    </script>
      </div>
  

</body></html>